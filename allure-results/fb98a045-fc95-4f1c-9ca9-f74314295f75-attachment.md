# Test info

- Name: Не успешная вторизация
- Location: E:\pet_playwright\tests\registerUser.spec.js:33:10

# Error details

```
Error: locator.waitFor: Target page, context or browser has been closed
Call log:
  - waiting for locator('//*[contains(@class, \'error-messages\')]/li') to be visible

    at LoginPage.checkLoginError (E:\pet_playwright\src\pageObject\loginPage.js:28:36)
    at E:\pet_playwright\tests\registerUser.spec.js:43:25
```

# Test source

```ts
   1 | import {throws} from "node:assert";
   2 |
   3 | export class LoginPage {
   4 |
   5 |     constructor(page) {
   6 |
   7 |         this.failedTextLogin = page.locator ('//*[contains(@class, \'error-messages\')]/li')
   8 |         this.inputLogin =  page.getByRole('textbox', { name: 'Email' });
   9 |         this.inputPassword = page.getByRole('textbox', { name: 'Password' });
  10 |         this.buttonLogin = page.locator('//*[@class = "btn btn-lg btn-primary pull-xs-right"]')
  11 |
  12 |     }
  13 |
  14 |     async loginInputForm(login){
  15 |         await this.inputLogin.click()
  16 |         if(login === undefined) {
  17 |             await this.inputLogin.fill(login || process.env.LOGIN)
  18 |         }
  19 |     }
  20 |     async passwordInputForm(password){
  21 |         await this.inputPassword.click()
  22 |         await this.inputPassword.fill(password)
  23 |     }
  24 |     async buttonLoginGreen(){
  25 |         await this.buttonLogin.click()
  26 |     }
  27 |     async checkLoginError(expectedText){
> 28 |         await this.failedTextLogin.waitFor({ state: 'visible'});
     |                                    ^ Error: locator.waitFor: Target page, context or browser has been closed
  29 |
  30 |        if( await this.failedTextLogin.textContent('Email not found sign in first') !== expectedText) {
  31 |            throw new Error('Ошибка. Текст не совпадает')
  32 |        }
  33 |     }
  34 | }
  35 |
```