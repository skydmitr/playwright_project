# Test info

- Name: Группа тестов на авторизацию >> Успешная авторизация
- Location: E:\pet_playwright\tests\registerUser.spec.js:50:9

# Error details

```
Error: locator.textContent: Target page, context or browser has been closed
Call log:
  - waiting for locator('//*[contains(@class, \'error-messages\')]/li')

    at LoginPage.checkLoginName (E:\pet_playwright\src\pageObject\loginPage.js:35:40)
    at E:\pet_playwright\tests\registerUser.spec.js:60:25
```

# Test source

```ts
   1 | import {throws} from "node:assert";
   2 |
   3 | export class LoginPage {
   4 |
   5 |     constructor(page) {
   6 |
   7 |         this.failedTextLogin = page.locator ('//*[contains(@class, \'error-messages\')]/li')
   8 |         this.inputLogin =  page.getByRole('textbox', { name: 'Email' });
   9 |         this.inputPassword = page.getByRole('textbox', { name: 'Password' });
  10 |         this.buttonLogin = page.locator('//*[@class = "btn btn-lg btn-primary pull-xs-right"]')
  11 |         this.loginName = page.locator('//*[contains(@class, \'nav-link dropdown-toggle cursor-pointer\')]')
  12 |
  13 |     }
  14 |
  15 |     async loginInputForm(login){
  16 |         await this.inputLogin.click()
  17 |         await this.inputLogin.fill(login)
  18 |
  19 |     }
  20 |     async passwordInputForm(password){
  21 |         await this.inputPassword.click()
  22 |         await this.inputPassword.fill(password)
  23 |     }
  24 |     async buttonLoginGreen(){
  25 |         await this.buttonLogin.click()
  26 |     }
  27 |     async checkLoginError(expectedText){
  28 |         await this.failedTextLogin.waitFor({ state: 'visible'});
  29 |
  30 |        if( await this.failedTextLogin.textContent('Email not found sign in first') !== expectedText) {
  31 |            throw new Error('Ошибка. Текст не совпадает')
  32 |        }
  33 |     }
  34 |     async checkLoginName(expectedText){
> 35 |         if( await this.failedTextLogin.textContent('Geoffrey') !== expectedText) {
     |                                        ^ Error: locator.textContent: Target page, context or browser has been closed
  36 |             throw new Error('Ошибка. Имя не совпадает')
  37 |         }
  38 |     }
  39 | }
  40 |
```